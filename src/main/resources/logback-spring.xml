<?xml version="1.0" encoding="UTF-8"?>
<configuration>

    <include resource="org/springframework/boot/logging/logback/defaults.xml"/>
    <include resource="org/springframework/boot/logging/logback/console-appender.xml" />

    <springProperty name="spring.datasource.driverClassName"
        source="spring.datasource.driverClassName" />
    <springProperty name="spring.datasource.url" source="spring.datasource.url" />
    <springProperty name="spring.datasource.username" source="spring.datasource.username" />
    <springProperty name="spring.datasource.password" source="spring.datasource.password" />

    <appender name="DATABASE" class="ch.qos.logback.classic.db.DBAppender">
        <connectionSource class="ch.qos.logback.core.db.DriverManagerConnectionSource">
            <driverClass>${spring.datasource.driverClassName}</driverClass>
            <url>${spring.datasource.url}</url>
            <user>${spring.datasource.username}</user>
            <password>${spring.datasource.password}</password>
        </connectionSource>
    </appender>

    <root level="INFO">
        <appender-ref ref="CONSOLE" />
    </root>

    <logger name="logging.level.org.hibernate.SQL" level="INFO" />

    <logger name="me.secosme.csv.CsvProcessor" level="INFO">
        <appender-ref ref="DATABASE" />
    </logger>

</configuration>